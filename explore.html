<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Explore | PEGASUS</title>
  <link rel="stylesheet" href="css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* DAZN-style Explore Page */
    .explore-hero {
      height: 70vh;
      min-height: 500px;
      position: relative;
      overflow: hidden;
      margin-top: 40px;
    }
    
    .explore-hero .slide {
      background-size: cover;
      background-position: center;
    }
    
    .explore-hero .slide-content {
      bottom: 100px;
      left: 40px;
      max-width: 50%;
      text-align: left;
    }
    
    .categories-section {
      padding: 40px 0;
      background: var(--secondary);
    }
    
    .categories-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .category-card {
      background: var(--card-bg);
      border-radius: 8px;
      overflow: hidden;
      transition: var(--transition);
      text-align: center;
      aspect-ratio: 1;
    }
    
    .category-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    }
    
    .category-icon {
      height: 70%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      color: var(--accent);
    }
    
    .category-name {
      padding: 15px;
      font-weight: 600;
      background: rgba(255, 255, 255, 0.05);
    }
    
    .leagues-section {
      padding: 60px 0;
    }
    
    .leagues-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    
    .league-card {
      background: var(--card-bg);
      border-radius: 8px;
      padding: 20px;
      text-align: center;
      transition: var(--transition);
    }
    
    .league-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    }
    
    .league-logo {
      width: 80px;
  height: 80px;
  object-fit: contain;
  margin: 0 auto 15px;
}

.upcoming-events {
  padding: 60px 0;
  background: var(--secondary);
}

.events-tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  overflow-x: auto;
  padding-bottom: 10px;
}

.event-tab {
  padding: 10px 20px;
  background: var(--card-bg);
  border-radius: 30px;
  cursor: pointer;
  transition: var(--transition);
  white-space: nowrap;
}

.event-tab.active {
  background: var(--accent);
  color: #000;
}

.events-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
}

.event-card {
  background: var(--card-bg);
  border-radius: 8px;
  overflow: hidden;
  transition: var(--transition);
}

.event-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}

.event-date {
  padding: 10px 15px;
  background: var(--accent);
  color: #000;
  font-weight: 600;
  text-align: center;
}

.event-info {
  padding: 15px;
}

.event-teams {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.team {
  text-align: center;
  flex: 1;
}

.team-logo {
  width: 50px;
  height: 50px;
  object-fit: contain;
  margin-bottom: 5px;
}

.vs {
  font-weight: 600;
  margin: 0 10px;
}

.event-league {
  text-align: center;
  color: var(--text-secondary);
  font-size: 12px;
  margin-top: 10px;
}

.fight-cards-section {
  padding: 60px 0;
}

.fight-card {
  background: var(--card-bg);
  border-radius: 8px;
  overflow: hidden;
  margin-bottom: 30px;
}

.fight-card-header {
  padding: 15px;
  background: var(--accent);
  color: #000;
  font-weight: 600;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.fight-card-content {
  padding: 20px;
}

.fight {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.fight:last-child {
  border-bottom: none;
}

.fighter {
  text-align: center;
  flex: 1;
}

.fighter-name {
  font-weight: 600;
  margin-top: 10px;
}

.fighter-record {
  font-size: 12px;
  color: var(--text-secondary);
}

.weight-class {
  text-align: center;
  margin: 0 15px;
  color: var(--text-secondary);
  font-size: 12px;
}

@media (max-width: 768px) {
  .explore-hero .slide-content {
    max-width: 90%;
    left: 20px;
    text-align: center;
  }
  
  .categories-grid {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  }
  
  .leagues-grid {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  }
  
  .events-grid {
    grid-template-columns: 1fr;
  }
  
  .event-teams {
    flex-direction: column;
  }
  
  .team {
    margin: 10px 0;
  }
  
  .vs {
    margin: 10px 0;
  }
}
  </style>
</head>
<body>
  <!-- Preloader -->
  <div id="preloader">
    <div class="preloader-content">
      <img src="images/pegasus-logo.png" alt="PEGASUS" class="preloader-logo">
      <div class="loading-circle"></div>
    </div>
  </div>

  <!-- Header -->
  <header>
    <div class="container">
      <nav class="navbar">
        <a href="index.html" class="logo">
          <img src="images/pegasus-logo.png" alt="PEGASUS Logo">
        </a>
        
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="explore.html" class="active">Explore</a></li>
          <li><a href="live-streams.html">Live</a></li>
          <li><a href="vod.html">VOD</a></li>
          <li><a href="highlights.html">Highlights</a></li>
          <li><a href="channels.html">Channels</a></li>
          
          <!-- Mobile Auth Buttons (Hidden on Desktop) -->
          <li class="mobile-auth-item">
            <div class="mobile-auth">
              <a href="signin.html" class="btn btn-outline">Sign In</a>
              <a href="signup.html" class="btn">Subscribe</a>
            </div>
          </li>
        </ul>
        
        <!-- Desktop Auth Buttons (Hidden on Mobile) -->
        <div class="auth-buttons" id="auth-buttons">
          <a href="signin.html" class="btn btn-outline">Sign In</a>
          <a href="signup.html" class="btn">Subscribe</a>
        </div>
        
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </nav>
    </div>
  </header>

  <!-- Hero Banner -->
  <section class="explore-hero">
    <div style="background-image: url('images/explore-banner.jpg');" class="slide active">
      <div class="slide-overlay"></div>
      <div class="slide-content">
        <h2>Explore All Sports</h2>
        <p>Discover live games, highlights, and channels across all categories</p>
        <a href="#categories" class="btn">Explore Now</a>
        <div class="mini-progress">
          <div class="mini-progress-bar"></div>
        </div>
      </div>
    </div>
    <div class="slider-arrows">
      <div class="arrow prev">
        <i class="fas fa-chevron-left"></i>
      </div>
      <div class="arrow next">
        <i class="fas fa-chevron-right"></i>
      </div>
    </div>
  </section>

  <!-- Categories Section -->
  <section id="categories" class="categories-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Sports Categories</h2>
      </div>
      
      <div class="categories-grid">
        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-futbol"></i>
          </div>
          <div class="category-name">Football</div>
        </div>
        
        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-basketball-ball"></i>
          </div>
          <div class="category-name">Basketball</div>
        </div>
        
        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-table-tennis"></i>
          </div>
          <div class="category-name">Tennis</div>
        </div>
        
        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-flag-checkered"></i>
          </div>
          <div class="category-name">Racing</div>
        </div>
        
        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-fist-raised"></i>
          </div>
          <div class="category-name">MMA</div>
        </div>
        
        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-hockey-puck"></i>
          </div>
          <div class="category-name">Hockey</div>
        </div>
        
        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-baseball-ball"></i>
          </div>
          <div class="category-name">Baseball</div>
        </div>
        
        <div class="category-card">
          <div class="category-icon">
            <i class="fas fa-golf-ball"></i>
          </div>
          <div class="category-name">Golf</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Content from Backend Section -->
  <section class="section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Featured Content</h2>
        <a href="#" class="view-all">View All</a>
      </div>
      
      <div class="stream-grid" id="featured-content">
        <div class="loading-placeholder">
          <div class="loading-spinner"></div>
          <p>Loading featured content...</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Leagues Section -->
  <section class="leagues-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Popular Leagues</h2>
        <a href="#" class="view-all">View All</a>
      </div>
      
      <div class="leagues-grid">
        <div class="league-card">
          <img src="images/premier-league.png" alt="Premier League" class="league-logo">
          <div>Premier League</div>
        </div>
        
        <div class="league-card">
          <img src="images/nba.png" alt="NBA" class="league-logo">
          <div>NBA</div>
        </div>
        
        <div class="league-card">
          <img src="images/uefa.png" alt="UEFA" class="league-logo">
          <div>UEFA Champions League</div>
        </div>
        
        <div class="league-card">
          <img src="images/nfl.png" alt="NFL" class="league-logo">
          <div>NFL</div>
        </div>
        
        <div class="league-card">
          <img src="images/formula1.png" alt="Formula 1" class="league-logo">
          <div>Formula 1</div>
        </div>
        
        <div class="league-card">
          <img src="images/ufc.png" alt="UFC" class="league-logo">
          <div>UFC</div>
        </div>
        
        <div class="league-card">
          <img src="images/mlb.png" alt="MLB" class="league-logo">
          <div>MLB</div>
        </div>
        
        <div class="league-card">
          <img src="images/nhl.png" alt="NHL" class="league-logo">
          <div>NHL</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Upcoming Events Section -->
  <section class="upcoming-events">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Upcoming Events</h2>
      </div>
      
      <div class="events-tabs">
        <div class="event-tab active" data-day="today">Today</div>
        <div class="event-tab" data-day="tomorrow">Tomorrow</div>
        <div class="event-tab" data-day="week">This Week</div>
        <div class="event-tab" data-day="month">This Month</div>
      </div>
      
      <div class="events-grid">
        <div class="event-card">
          <div class="event-date">Today, 19:45</div>
          <div class="event-info">
            <div class="event-teams">
              <div class="team">
                <img src="images/team1.png" alt="Team 1" class="team-logo">
                <div>Manchester United</div>
              </div>
              <div class="vs">VS</div>
              <div class="team">
                <img src="images/team2.png" alt="Team 2" class="team-logo">
                <div>Liverpool</div>
              </div>
            </div>
            <div class="event-league">Premier League</div>
          </div>
        </div>
        
        <div class="event-card">
          <div class="event-date">Today, 20:00</div>
          <div class="event-info">
            <div class="event-teams">
              <div class="team">
                <img src="images/team3.png" alt="Team 3" class="team-logo">
                <div>LA Lakers</div>
              </div>
              <div class="vs">VS</div>
              <div class="team">
                <img src="images/team4.png" alt="Team 4" class="team-logo">
                <div>Boston Celtics</div>
              </div>
            </div>
            <div class="event-league">NBA</div>
          </div>
        </div>
        
        <div class="event-card">
          <div class="event-date">Tomorrow, 15:00</div>
          <div class="event-info">
            <div class="event-teams">
              <div class="team">
                <img src="images/team5.png" alt="Team 5" class="team-logo">
                <div>Ferrari</div>
              </div>
              <div class="vs">VS</div>
              <div class="team">
                <img src="images/team6.png" alt="Team 6" class="team-logo">
                <div>Red Bull</div>
              </div>
            </div>
            <div class="event-league">Formula 1 - Monaco GP</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Fight Cards Section -->
  <section class="fight-cards-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Fight Cards</h2>
        <a href="#" class="view-all">View All</a>
      </div>
      
      <div class="fight-card">
        <div class="fight-card-header">
          <span>UFC 300</span>
          <span>April 15, 2023</span>
        </div>
        <div class="fight-card-content">
          <div class="fight">
            <div class="fighter">
              <div class="fighter-name">Jon Jones</div>
              <div class="fighter-record">27-1-0</div>
            </div>
            <div class="weight-class">Heavyweight Title</div>
            <div class="fighter">
              <div class="fighter-name">Stipe Miocic</div>
              <div class="fighter-record">20-4-0</div>
            </div>
          </div>
          
          <div class="fight">
            <div class="fighter">
              <div class="fighter-name">Israel Adesanya</div>
              <div class="fighter-record">24-2-0</div>
            </div>
            <div class="weight-class">Middleweight Title</div>
            <div class="fighter">
              <div class="fighter-name">Alex Pereira</div>
              <div class="fighter-record">7-2-0</div>
            </div>
          </div>
          
          <div class="fight">
            <div class="fighter">
              <div class="fighter-name">Conor McGregor</div>
              <div class="fighter-record">22-6-0</div>
            </div>
            <div class="weight-class">Welterweight</div>
            <div class="fighter">
              <div class="fighter-name">Michael Chandler</div>
              <div class="fighter-record">23-8-0</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-column">
          <h3>PEGASUS</h3>
          <p>The ultimate sports streaming platform with live events, on-demand content, and exclusive coverage.</p>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
        
        <div class="footer-column">
          <h3>Navigation</h3>
          <ul class="footer-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="explore.html">Explore</a></li>
            <li><a href="live-streams.html">Live Streams</a></li>
            <li><a href="vod.html">Video On Demand</a></li>
            <li><a href="highlights.html">Highlights</a></li>
            <li><a href="channels.html">Channels</a></li>
          </ul>
        </div>
        
        <div class="footer-column">
          <h3>Legal</h3>
          <ul class="footer-links">
            <li><a href="terms.html">Terms of Service</a></li>
            <li><a href="privacy.html">Privacy Policy</a></li>
            <li><a href="dmca.html">DMCA Policy</a></li>
            <li><a href="cookie.html">Cookie Policy</a></li>
          </ul>
        </div>
        
        <div class="footer-column">
          <h3>Support</h3>
          <ul class="footer-links">
            <li><a href="about.html">About Us</a></li>
            <li><a href="contact.html">Contact Us</a></li>
            <li><a href="faq.html">FAQs</a></li>
            <li><a href="help.html">Help Center</a></li>
          </ul>
        </div>
      </div>
      
      <div class="copyright">
        &copy; 2023 PEGASUS Sports Streaming. All rights reserved.
      </div>
    </div>
  </footer>

  <script src="js/config.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/script.js"></script>
  <script>
    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize mobile menu
      const hamburger = document.querySelector('.hamburger');
      const navLinks = document.querySelector('.nav-links');
      
      if (hamburger && navLinks) {
        hamburger.addEventListener('click', () => {
          hamburger.classList.toggle('active');
          navLinks.classList.toggle('active');
        });
      }
      
      // Load featured content from backend
      loadFeaturedContent();
      
      // Event tabs functionality
      const eventTabs = document.querySelectorAll('.event-tab');
      eventTabs.forEach(tab => {
        tab.addEventListener('click', function() {
          eventTabs.forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          // In a real implementation, you would filter events based on the selected tab
        });
      });
    });
    
    // Load featured content from backend
    async function loadFeaturedContent() {
      try {
        const API_BASE = 'https://pegasus-backend.super-elmore95.workers.dev';
        const container = document.getElementById('featured-content');
        
        // Show loading state
        container.innerHTML = `
          <div class="loading-placeholder">
            <div class="loading-spinner"></div>
            <p>Loading featured content...</p>
          </div>
        `;
        
        const response = await fetch(`${API_BASE}/api/content?limit=8`);
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const content = await response.json();
        
        // Clear loading state
        container.innerHTML = '';
        
        // Combine all content types
        const allContent = [
          ...(content.live || []),
          ...(content.vod || []),
          ...(content.highlights || []),
          ...(content.channels || [])
        ];
        
        // Display content
        if (allContent.length === 0) {
          container.innerHTML = '<p class="no-content">No featured content available</p>';
          return;
        }
        
        // Show first 8 items
        allContent.slice(0, 8).forEach(item => {
          const isLive = item.is_live || false;
          const itemType = isLive ? 'live' : (item.type || 'vod');
          const card = document.createElement('a');
          card.href = `player.html?type=${itemType}&id=${item.id}`;
          card.className = 'stream-card';
          
          card.innerHTML = `
            <div class="card-img">
              <img src="${item.thumbnail || item.thumbnail_url || 'https://via.placeholder.com/400x225'}" 
                   alt="${item.title || item.name}" 
                   onerror="this.src='https://via.placeholder.com/400x225'">
              ${isLive ? '<div class="live-badge">LIVE</div>' : ''}
              ${item.requires_premium ? '<div class="premium-badge">PREMIUM</div>' : ''}
              <div class="card-content">
                <h3 class="card-title">${item.title || item.name}</h3>
                <div class="card-meta">
                  <span>${item.category || 'Sports'}</span>
                  <span class="card-views">${isLive ? `${item.viewers_count || 0} watching` : `${item.views_count || item.view_count || 0} views`}</span>
                </div>
              </div>
            </div>
          `;
          
          container.appendChild(card);
        });
        
      } catch (error) {
        console.error('Error loading featured content:', error);
        const container = document.getElementById('featured-content');
        container.innerHTML = '<p class="error-message">Failed to load featured content. Please try again later.</p>';
      }
    }
  </script>
</body>
</html>
